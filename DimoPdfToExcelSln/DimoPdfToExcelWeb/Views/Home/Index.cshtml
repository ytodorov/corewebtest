@{
    ViewData["Title"] = "Pdf to Excel";
}

<script type="text/javascript">
    function onError(e) {
        // An array with information about the uploaded files
        var files = e.files;

        if (e.operation == "upload") {
            alert("Failed to upload " + files.length + " files");
        }
    }

    function btnShowDebugInfoClick(e) {

        var jqxhr = $.ajax("/Home/DebugInfo")
            .done(function (text) {
                $("#divDebugInfo")
                    .show()
                    .html(text);
            });
    }

</script>

<div class="k-block k-info-colored">Please upload INPUT EXAMPLE 1.pdf and click 'Download Excel' button.</div>
<hr />

<form method="post" action='@Url.Action("Submit")'>
    <div class="demo-section k-content">
        @(Html.Kendo().Upload()
            .Name("files")
            .HtmlAttributes(new { accept = "*.pdf" })
            .Async(a => a
                .Save("ChunkSave", "Upload")
                .Remove("Remove", "Upload")

            //.ChunkSize(2000)
            )
            .Validation(v => v.AllowedExtensions("pdf"))
            .Events(e => e.Error("onError"))
            //.Directory(true)
            //.DirectoryDrop(true)
            .Deferred()
        )
        <hr />
        <a asp-controller="Upload" class="k-button"
           asp-action="Excel">Download Excel</a>

     
    </div>
</form>
<hr />
@(Html.Kendo().Button().Name("btnShowDebugInfo").Content("Show Info").Events(e => e.Click("btnShowDebugInfoClick"))
    .Deferred()
    )
<div id="divDebugInfo" style="display:none">
    @*@(Html.Kendo().Grid<FinancialRow>()
            .Name("gridBs")
            .Columns(columns =>
            {
                columns.Bound(c => c.Number).Width(100);
                columns.Bound(c => c.Name);
                columns.Bound(c => c.GoesTo);
                columns.Bound(c => c.CurrentYear).Width(100);
            })
            //.HtmlAttributes(new { style = "height: 550px;" })
            .Scrollable()
            .Groupable()
            .Sortable()
            .Filterable()
            .DataSource(dataSource => dataSource
                .Ajax()
                .Read(read => read.Action("BsRows_Read", "Grid"))
                .PageSize(2000)
            )

            .Deferred()
    )*@
</div>